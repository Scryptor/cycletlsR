# CycleTLSR

–ú–æ—â–Ω—ã–π HTTP-–∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤–µ–±-—Å–∞–π—Ç–æ–≤ —Å –æ–±—Ö–æ–¥–æ–º –∞–Ω—Ç–∏–±–æ—Ç-—Å–∏—Å—Ç–µ–º —á–µ—Ä–µ–∑ —ç–º—É–ª—è—Ü–∏—é TLS-–æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üõ°Ô∏è **–û–±—Ö–æ–¥ –∞–Ω—Ç–∏–±–æ—Ç-—Å–∏—Å—Ç–µ–º** - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∑–∞—â–∏—Ç—ã –æ—Ç –±–æ—Ç–æ–≤
- üîí **TLS Fingerprinting** - –¢–æ—á–Ω–∞—è —ç–º—É–ª—è—Ü–∏—è TLS-–æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤ Chrome, Firefox, Safari –¥–ª—è —Å–∫—Ä—ã—Ç–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- üîÑ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–∫—Å–∏** - –†–æ—Ç–∞—Ü–∏—è HTTP(S)/SOCKS4/SOCKS5 –ø—Ä–æ–∫—Å–∏ –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- üìä **Header Ordering** - –ò–º–∏—Ç–∞—Ü–∏—è –ø–æ—Ä—è–¥–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
- üç™ **Cookie Management** - –†–∞–±–æ—Ç–∞ —Å —Å–µ—Å—Å–∏—è–º–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Å–∞–π—Ç–∞—Ö
- ‚ö° **Worker Pool** - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞–Ω–∏—Ü —Å –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é
- üíæ **Connection Reuse** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- üöÄ **HTTP/2 & HTTP/1.1** - –í—ã–±–æ—Ä –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∞–π—Ç–∞

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
go get github.com/Scryptor/cycletlsR
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- Go 1.18+
- Linux/macOS/Windows

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

### –ë–∞–∑–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Å –æ–±—Ö–æ–¥–æ–º –∑–∞—â–∏—Ç—ã

```go
package main

import (
    "fmt"
    "log"
    cycletls "github.com/Scryptor/cycletlsR"
)

func main() {
    client := cycletls.Init()
    
    // JA3 fingerprint –æ—Ç Chrome 120
    chromeJA3 := "771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,0-23-65281-10-11-35-16-5-13-18-51-45-43-27-17513-21,29-23-24,0"
    
    response, err := client.Do("https://example.com/api/data", cycletls.Options{
        JA3:       chromeJA3,
        UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
        Headers: map[string]string{
            "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8",
            "Accept-Language": "en-US,en;q=0.9",
            "Accept-Encoding": "gzip, deflate, br",
            "Sec-Ch-Ua": `"Not_A Brand";v="8", "Chromium";v="120", "Google Chrome";v="120"`,
            "Sec-Ch-Ua-Mobile": "?0",
            "Sec-Ch-Ua-Platform": `"Windows"`,
            "Sec-Fetch-Dest": "document",
            "Sec-Fetch-Mode": "navigate",
            "Sec-Fetch-Site": "none",
            "Sec-Fetch-User": "?1",
            "Upgrade-Insecure-Requests": "1",
        },
    }, "GET")
    
    if err != nil {
        log.Fatal(err)
    }
    
    fmt.Printf("Status: %d\nBody: %s\n", response.Status, response.Body)
}
```

### –ü–∞—Ä—Å–∏–Ω–≥ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π –ø—Ä–æ–∫—Å–∏

```go
// –°–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏ –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏
proxies := []string{
    "http://user1:pass1@proxy1.example.com:8080",
    "socks5://user2:pass2@proxy2.example.com:1080",
    "http://user3:pass3@proxy3.example.com:8080",
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏
func getRandomProxy() string {
    return proxies[rand.Intn(len(proxies))]
}

// –ü–∞—Ä—Å–∏–Ω–≥ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π
for i := 0; i < 100; i++ {
    response, err := client.Do("https://target-site.com/page", cycletls.Options{
        Proxy: getRandomProxy(),
        JA3: chromeJA3,
        UserAgent: getUserAgent(), // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–æ—Ç–∞—Ü–∏–∏ User-Agent
    }, "GET")
    
    if err != nil {
        log.Printf("–û—à–∏–±–∫–∞ —Å –ø—Ä–æ–∫—Å–∏ %d: %v", i, err)
        continue
    }
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ HTML/JSON
    processData(response.Body)
    
    // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
    time.Sleep(time.Duration(rand.Intn(3)+1) * time.Second)
}
```

### –ú–∞—Å—Å–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Å Worker Pool

```go
client := cycletls.Init(true) // –í–∫–ª—é—á–∞–µ–º worker pool

// –°–ø–∏—Å–æ–∫ URL –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
urls := []string{
    "https://site.com/page1",
    "https://site.com/page2",
    // ... —Ç—ã—Å—è—á–∏ URL
}

// –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥—å
for _, url := range urls {
    client.Queue(url, cycletls.Options{
        JA3: getRandomJA3(), // –†–æ—Ç–∞—Ü–∏—è JA3
        Proxy: getRandomProxy(),
        Headers: getBrowserHeaders(),
    }, "GET")
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
go func() {
    for response := range client.RespChan {
        if response.Status == 200 {
            saveToDatabase(response.Body)
        } else if response.Status == 403 {
            log.Printf("–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ %s, –º–µ–Ω—è–µ–º –ø—Ä–æ–∫—Å–∏", response.FinalUrl)
            // –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
        }
    }
}()
```

## –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–±—Ö–æ–¥–∞ –∑–∞—â–∏—Ç—ã

### –†–∞–±–æ—Ç–∞ —Å –∑–∞—â–∏—Ç–∞–º–∏ —Ç–∏–ø–∞ WAF/CDN

```go
// –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –∑–∞—â–∏—Ç—ã
response, err := client.Do("https://protected-site.com", cycletls.Options{
    JA3: "771,4865-4866-4867-49195-49199-49196-49200-52393-52392-49171-49172-156-157-47-53,0-23-65281-10-11-35-16-5-13-18-51-45-43-27-17513-21,29-23-24,0",
    UserAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
    Headers: map[string]string{
        "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8",
        "Accept-Language": "en-US,en;q=0.9",
        "Cache-Control": "no-cache",
        "Pragma": "no-cache",
        "Sec-Ch-Ua": `"Not_A Brand";v="8", "Chromium";v="120", "Google Chrome";v="120"`,
        "Sec-Ch-Ua-Mobile": "?0",
        "Sec-Ch-Ua-Platform": `"Windows"`,
        "Sec-Fetch-Dest": "document",
        "Sec-Fetch-Mode": "navigate",
        "Sec-Fetch-Site": "none",
        "Sec-Fetch-User": "?1",
    },
    HeaderOrder: []string{
        "host",
        "connection",
        "cache-control",
        "sec-ch-ua",
        "sec-ch-ua-mobile",
        "sec-ch-ua-platform",
        "upgrade-insecure-requests",
        "user-agent",
        "accept",
        "sec-fetch-site",
        "sec-fetch-mode",
        "sec-fetch-user",
        "sec-fetch-dest",
        "accept-encoding",
        "accept-language",
    },
}, "GET")
```

### –†–∞–±–æ—Ç–∞ —Å JavaScript-–∑–∞—â–∏—Ç–æ–π

```go
// –ü–µ—Ä–≤—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è cookies –∏ —Ç–æ–∫–µ–Ω–æ–≤
response, err := client.Do("https://js-protected.com", cycletls.Options{
    JA3: chromeJA3,
    UserAgent: chromeUA,
}, "GET")

// –°–æ—Ö—Ä–∞–Ω—è–µ–º cookies
cookies := response.Cookies

// –í—Ç–æ—Ä–æ–π –∑–∞–ø—Ä–æ—Å —Å cookies –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É –∫–æ–Ω—Ç–µ–Ω—Ç—É
response, err = client.Do("https://js-protected.com/api/data", cycletls.Options{
    JA3: chromeJA3,
    UserAgent: chromeUA,
    Cookies: convertHTTPCookiesToCycleTLS(cookies),
    Headers: map[string]string{
        "Referer": "https://js-protected.com",
        "X-Requested-With": "XMLHttpRequest",
    },
}, "GET")
```

### –ü–∞—Ä—Å–∏–Ω–≥ —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

```go
// –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
loginData := url.Values{
    "username": {"user"},
    "password": {"pass"},
}.Encode()

loginResp, err := client.Do("https://site.com/login", cycletls.Options{
    JA3: chromeJA3,
    Headers: map[string]string{
        "Content-Type": "application/x-www-form-urlencoded",
    },
    Body: loginData,
}, "POST")

// –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–µ cookies
sessionCookies := loginResp.Cookies

// –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
response, err := client.Do("https://site.com/protected/data", cycletls.Options{
    JA3: chromeJA3,
    Cookies: convertHTTPCookiesToCycleTLS(sessionCookies),
}, "GET")
```

## –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

### –†–æ—Ç–∞—Ü–∏—è fingerprints

```go
// –ù–∞–±–æ—Ä JA3 –æ—Ç–ø–µ—á–∞—Ç–∫–æ–≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
ja3Fingerprints := map[string]string{
    "chrome120": "771,4865-4866-4867-49195-49199...",
    "firefox121": "771,4865-4867-4866-49195-49199...",
    "safari17": "771,4865-4866-4867-49196-49195...",
}

// –ù–∞–±–æ—Ä User-Agent —Å—Ç—Ä–æ–∫
userAgents := map[string]string{
    "chrome120": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36...",
    "firefox121": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101...",
    "safari17": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15...",
}

// –í—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞
browsers := []string{"chrome120", "firefox121", "safari17"}
browser := browsers[rand.Intn(len(browsers))]

response, err := client.Do(url, cycletls.Options{
    JA3: ja3Fingerprints[browser],
    UserAgent: userAgents[browser],
}, "GET")
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏

```go
// –ò–º–∏—Ç–∞—Ü–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
func humanDelay() {
    // –°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç 2 –¥–æ 7 —Å–µ–∫—É–Ω–¥
    delay := time.Duration(rand.Intn(5)+2) * time.Second
    time.Sleep(delay)
}

// –ü–∞—Ä—Å–∏–Ω–≥ —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –ø–∞—É–∑–∞–º–∏
for _, url := range urls {
    response, err := client.Do(url, options, "GET")
    
    if err != nil {
        // –£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è –ø–∞—É–∑–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ
        time.Sleep(30 * time.Second)
        continue
    }
    
    humanDelay()
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ rate limits

```go
// –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç—å—é –∑–∞–ø—Ä–æ—Å–æ–≤
var (
    requestCount int
    resetTime    time.Time
    maxRequests  = 100
    timeWindow   = time.Hour
)

func checkRateLimit() bool {
    now := time.Now()
    if now.After(resetTime) {
        requestCount = 0
        resetTime = now.Add(timeWindow)
    }
    
    if requestCount >= maxRequests {
        sleepTime := resetTime.Sub(now)
        log.Printf("Rate limit –¥–æ—Å—Ç–∏–≥–Ω—É—Ç, –ø–∞—É–∑–∞ –Ω–∞ %v", sleepTime)
        time.Sleep(sleepTime)
        requestCount = 0
    }
    
    requestCount++
    return true
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
if checkRateLimit() {
    response, err := client.Do(url, options, "GET")
    // ...
}
```

## API Reference

### Options –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

```go
type Options struct {
    URL                string            // URL –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
    Method             string            // HTTP –º–µ—Ç–æ–¥
    Headers            map[string]string // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞
    Body               string            // –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (–¥–ª—è POST)
    Ja3                string            // TLS fingerprint
    UserAgent          string            // User-Agent —Å—Ç—Ä–æ–∫–∞
    Proxy              string            // –ü—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä
    Cookies            []Cookie          // Cookies –¥–ª—è —Å–µ—Å—Å–∏–∏
    Timeout            int               // –¢–∞–π–º–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    DisableRedirect    bool              // –û—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
    HeaderOrder        []string          // –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
    InsecureSkipVerify bool              // –ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ SSL (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
    ForceHTTP1         bool              // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π HTTP/1.1
}
```

### Response —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```go
type Response struct {
    RequestID string          // ID –∑–∞–ø—Ä–æ—Å–∞
    Status    int             // HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥
    Body      string          // HTML/JSON –∫–æ–Ω—Ç–µ–Ω—Ç
    Headers   map[string]string // –ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
    Cookies   []*http.Cookie  // Cookies –∏–∑ –æ—Ç–≤–µ—Ç–∞
    FinalUrl  string          // –§–∏–Ω–∞–ª—å–Ω—ã–π URL –ø–æ—Å–ª–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤
}
```

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```go
// –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞
client := cycletls.Init(true) // Worker pool –≤–∫–ª—é—á–µ–Ω

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
options := cycletls.Options{
    Timeout: 30,              // –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ç–∞–π–º–∞—É—Ç –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Å–∞–π—Ç–æ–≤
    DisableRedirect: false,   // –°–ª–µ–¥—É–µ–º —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º
    ForceHTTP1: false,       // –ò—Å–ø–æ–ª—å–∑—É–µ–º HTTP/2 –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ

```go
func parsePage(url string) (string, error) {
    maxRetries := 3
    var lastErr error
    
    for i := 0; i < maxRetries; i++ {
        response, err := client.Do(url, getOptions(), "GET")
        
        if err == nil && response.Status == 200 {
            return response.Body, nil
        }
        
        lastErr = err
        
        // –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–∫–∏
        if err != nil {
            if strings.Contains(err.Error(), "timeout") {
                log.Printf("–¢–∞–π–º–∞—É—Ç, –ø–æ–≤—Ç–æ—Ä %d/%d", i+1, maxRetries)
                time.Sleep(time.Duration(i+1) * 5 * time.Second)
                continue
            }
            
            if strings.Contains(err.Error(), "connection refused") {
                // –ú–µ–Ω—è–µ–º –ø—Ä–æ–∫—Å–∏ –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
                changeProxy()
            }
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ HTTP —Å—Ç–∞—Ç—É—Å–æ–≤
        if response != nil {
            switch response.Status {
            case 403, 429:
                log.Printf("–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–∫–æ–¥ %d), –º–µ–Ω—è–µ–º –ø—Ä–æ–∫—Å–∏", response.Status)
                changeProxy()
            case 500, 502, 503, 504:
                log.Printf("–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (–∫–æ–¥ %d), –ø–æ–≤—Ç–æ—Ä —á–µ—Ä–µ–∑ 30 —Å–µ–∫", response.Status)
                time.Sleep(30 * time.Second)
            }
        }
        
        time.Sleep(time.Duration(i+1) * 10 * time.Second)
    }
    
    return "", fmt.Errorf("–Ω–µ —É–¥–∞–ª–æ—Å—å —Å–ø–∞—Ä—Å–∏—Ç—å %s –ø–æ—Å–ª–µ %d –ø–æ–ø—ã—Ç–æ–∫: %v", url, maxRetries, lastErr)
}
```